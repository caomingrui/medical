(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0984fb0"],{"093b":function(e,t,i){},"89c8":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"journalClassList"},e._l(e.JournallList,(function(t){return i("div",{key:t.id,staticClass:"journal-list"},[i("div",{staticClass:"journal-list-img",on:{click:function(i){return e.openDetails(t,t.nlmTitleAbbreviation,t.periodicalTitle,t.imgUrlMin,t.nlmId)}}},[i("img",{attrs:{src:t.imgUrlMin,alt:""}}),i("span",[e._v(e._s(t.periodicalTitle))])]),i("div",{staticClass:"journal-list-but"},[t.isSubscribe?i("span",{on:{click:function(i){return e.canceleSubscription(t.id)}}},[e._v("取消订阅")]):i("span",{on:{click:function(i){return e.subJournal(t.id)}}},[e._v("订阅")])])])})),0)},r=[],o=(i("d81d"),i("d4ec")),a=i("bee2"),s=i("262e"),l=i("2caf"),c=i("9ab4"),u=i("60a3"),b=i("0613"),f=function(e){Object(s["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(o["a"])(this,i),e=t.apply(this,arguments),e.JournallList=[],e.subscribeState=!1,e}return Object(a["a"])(i,[{key:"created",value:function(){this.pageJournallList()}},{key:"openDetails",value:function(e,t,i,n,r){var o={name:i,keyword:t,img:n,id:r};localStorage.setItem("periodicalArticlesList",JSON.stringify(o)),b["a"].commit("savePeriodicalArticlesList",o),b["a"].commit("saveCurrentJournals",e),this.$router.push({name:"all",params:{id:"3"}})}},{key:"subJournal",value:function(e){var t=this,i=this;this.$request.get("/main/h5/periodical/subscribe?id="+e).then((function(n){"00000000"==n.code?(console.log("-------- 期刊订阅ok ------------"),i.JournallList.map((function(t){e==t.id&&(t.isSubscribe=!0)})),i.JournallList=i.JournallList,i.$message(n.message)):(console.log("-------- 期刊订阅不ok ------------"),t.$message.error(n.message))}))}},{key:"pageJournallList",value:function(){var e=b["a"].state.checkProfessionalId;if(null!=e){var t=this;this.$request.get("/main/server/periodical/findPeriodicalByMajorId?majorId="+e).then((function(e){console.log(e),"00000000"==e.code?(console.log("查询期刊列表成功"),t.JournallList=e.data):t.$message.error(e.message)}))}else this.$router.push({path:"/home/journal/0/all"})}},{key:"canceleSubscription",value:function(e){var t=this,i=this;this.$request.get("/main/h5/periodical/unsubscribe?id="+e).then((function(n){"00000000"==n.code?(console.log("-------- 取消期刊订阅ok ------------"),i.JournallList.map((function(t){e==t.id&&(t.isSubscribe=!1)})),i.JournallList=i.JournallList,i.$message("取消成功")):(console.log("-------- 取消期刊订阅不ok ------------"),t.$message.error(n.message))}))}},{key:"get$route",value:function(e,t){console.log(e)}}]),i}(u["c"]);Object(c["a"])([Object(u["d"])("$route")],f.prototype,"get$route",null),f=Object(c["a"])([Object(u["a"])({components:{}})],f);var d=f,p=d,g=(i("cbdb"),i("2877")),v=Object(g["a"])(p,n,r,!1,null,"b8c15692",null);t["default"]=v.exports},"9ab4":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));function n(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}},bee2:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}i.d(t,"a",(function(){return r}))},cbdb:function(e,t,i){"use strict";var n=i("093b"),r=i.n(n);r.a}}]);
